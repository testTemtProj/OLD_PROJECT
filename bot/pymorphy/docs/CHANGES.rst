
История изменений
=================

(dev)
-----

Этот релиз обратно несовместим с 0.5.6: сменилась структура словарей,
убрана поддержка python 2.5. Для обновления скачайте новые словари.
TODO: выложить словари.

* Объявлены устаревшими бэкенды, использующие shelve (не быстр, не везде
  работает, формат словарей не переносим), pytc (сложно устанавливать,
  нет преимуществ). Вместо этого добавлена поддержка словарей cdb через
  библиотеки tinycdb (она MIT/Public Domain, по скорости на уровне pytc,
  потребляет памяти меньше остальных) и cdblib.
  FIXME: tinycdb не на pypi.
* улучшения в разборщике фамилий (API ближе к основному, больше тестов);
* слегка упрощен скрипт перекодирования словарей;
* экспериментальная поддержка python 3.2 и pypy 1.7+; python 2.5 больше не
  поддерживается;
* исправлена работа sqlite-бекенда в многопоточном окружении (еще раз);
* тесты запускаются для всех поддерживаемых интерпретаторов через tox;
* сменился формат словаря - увеличение скорости в несколько раз ценой
  некоторого увеличения потребления оперативной памяти;
* рефакторинг класса Morph - за базовые функции склонения теперь отвечает
  источник данных, а не морф. анализатор, что теоретически должно позволить
  реализовывать более быстрые-эффективные по памяти варианты разбора с
  использованием более подходящих структур данных;
* значения по умолчанию для функции get_morph могут браться из переменных
  окружения PYMORPHY_DICTIONARY_PATH и PYMORPHY_DICTIONARY_BACKEND;
* модуль ``pymorphy.contrib.word_case`` для восстановления строчных-заглавных
  букв после обработки.


0.5.6 (2011-09-11)
------------------

* в релиз 0.5.5 по ошибке не вошли файлы разборщика фамилий и вошли
  некоторые ненужные файлы - это исправлено.
* улучшения в разборе фамилий;
* решена проблема со склонением слова "КИЕВ" и других, которые склонятор
  раньше пытался склонять как существительные в косвенных падежах;

0.5.5 (2011-08-13)
------------------

* улучшена и упрощена документация;
* pymorphy-speedups пересобран с Cython 0.15 (для cdb и sqlite с cache=True
  это почему-то дает ускорение до 1.5..2x);
* исправлена ошибка в склонении слов (иногда при склонении бралась неосновная
  форма слова);
* исправлена совместная работа pymorphy-speedups и шаблонных фильтров django:
  фильтры не работали для "умных" строк (например, SafeString или
  ugettext_lazy-строк);
* очень экспериментальная поддержка склонения фамилий (отдельно от основного
  анализатора; API будет изменен в последующих релизах).

0.5.4 (2011-07-15)
------------------

* Убрано предупреждение при одновременном обновлении pymorphy и
  pymorphy-speedups (например, через файл с зависимостями pip);
* файлы setup.py и скрипт запуска тестов теперь всегда используют
  "родной" pymorphy, а не установленный в систему.

0.5.3 (2011-07-15)
------------------

* Исправлена ошибка с определением версии pymorphy-speedups;
* вместо ``pymorphy.split`` теперь ``pymorphy.contrib.tokenizers``
  с функциями ``extract_tokens`` и ``extract_words``;
* поправлена установка из hg-репозитория для windows.

0.5.2 (2011-04-09)
------------------
* Исправлены ошибки в sqlite-словарях (**внимание**:
  `скачайте новые словари <https://bitbucket.org/kmike/pymorphy/downloads>`_
  для обновления);
* представление данных в json теперь компактнее, поэтому при использовании
  новых словарей должна повыситься скорость работы (особенно при отключенном
  кешировании);
* ускорение отключается с предупрежденем, если версия pymorphy-speedups
  не соответствует версии pymorphy;
* исправлены опечатки в документации;
* в тесты включен скрипт разбора "Золотого стандарта" с ДИАЛОГ-2010;
* в скрипт для конвертации словарей добавлена перекрестная проверка их
  корректности.

0.5.1 (2011-02-10)
------------------
* Sqlite-бэкенд теперь должен работать в многопоточном окружении;
* исправлена ошибка с последовательным применением шаблонных фильтров
  для django.

0.5.0 (2010-11-15)
------------------
* исправления и дополнения в документации
* для тестов используется unittest2
* поддержка опционального модуля
  `pymorphy-speedups <http://pypi.python.org/pypi/pymorphy-speedups>`_ с
  расширением на Cython (туда также перенесен метод setup_psyco). При
  использовании pickle-словарей скорость при установке расширения должна
  увеличиться в 2+ раза. Для других (более медленных) вариантов словарей
  относительный прирост будет не таким значительным. Осторожно: при установленном
  модуле все строки должны передаваться как юникодные (в.т.ч. латинские и
  пустые).
* убрана зависимость от simplejson (но его лучше все равно поставить, т.к. с
  simplejson работа со всеми словарями, кроме pickle, ускоряется в несколько раз)
* правильное склонение слов во втором предложном, родительном или винительном
  падежах
* метод pluralize_inflected_ru теперь поддерживает не только существительные
* более правильное разбиение на слова в фильтрах
* Работа со словами, записанными через дефис.
* Поддержка парсинга распознанных текстов (характерные замены букв). Довольно
  бесполезная штука.
* Убран метод get_normal_forms, т.к. метод get_gram_info и так возвращает
  для каждого слова нормальную форму.

0.4.3 (2010-02-06)
------------------
Устранены небольшие ошибки.

0.4.0 (2010-01-07)
------------------
Упрощена установка: добавилась поддержка кроссплатформенных словарей в sqlite

0.3.5 (2009-12-15)
------------------
Интеграция с django: добавлены шаблонные фильтры для склонения и согласования
слов. Переделаны правила получения нормальных форм слова (переделка ошибочная).

0.1.0 (2009-12-07)
------------------
pymorphy почти полностью переписан, документирован, оформлен как
python-пакет и загружен на pypi.python.org

0.0.1 (2009-01-18)
------------------
первая версия, которая после написания была заброшена на год
